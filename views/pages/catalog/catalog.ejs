<!DOCTYPE html>
<html lang="en">

<head>

   <meta charset="utf-8">
   <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
   <meta name="description" content="">
   <meta name="author" content="">

   <title>Catalog</title>

   <link href="/css/simple-sidebar.css" rel="stylesheet">
   <link href="/css/style.css" rel="stylesheet">
   <link href="/fontawesome/css/all.css" rel="stylesheet">



</head>

<body class="sfmono">


   <div id="wrapper">


      <div id="content-wrapper" class="d-flex flex-column">


         <header class="header_area">
            <nav class="navbar navbar-expand navbar-light bg-white topbar mb-4 static-top shadow fixed-top">
               <div class="container">

                  <a class="sidebar-brand d-flex align-items-center justify-content-center text-decoration-none"
                     href="/catalog?scale=All&vendor=All">
                     <div class="sidebar-brand-icon rotate-n-15">
                        <i class="fas fa-helicopter fa-lg"></i>
                     </div>
                     <div class="sidebar-brand-text">Classsic Model<sup>Shop</sup></div>
                  </a>


                  <div>
                     <a class="d-flex justify-content-center align-items-center" href="/login">
                        <div class="d-flex align-items-start">
                           <i class="fas fa-user"></i>
                        </div>
                     </a>


                  </div>
            </nav>
         </header>
         <section class="blog-banner-area h-100" id="category">
            <div class="container-fluid m-0 p-0">
               <div id="carouselExampleIndicators" class="carousel slide" style="width: 100%;" data-ride="carousel">
                  <ol class="carousel-indicators">
                     <li data-target="#carouselExampleIndicators" data-slide-to="0" class="active"></li>
                     <li data-target="#carouselExampleIndicators" data-slide-to="1"></li>
                     <li data-target="#carouselExampleIndicators" data-slide-to="2"></li>
                  </ol>
                  <div class="carousel-inner" role="listbox">
                     <div class="carousel-item active">
                        <img class="d-block img-fluid" src="/img/test01.jpg" style="width: 100%;" alt="First slide">
                     </div>
                     <div class="carousel-item">
                        <img class="d-block img-fluid" src="/img/test02.jpg" style="width: 100%;" alt="Second slide">
                     </div>
                     <div class="carousel-item">
                        <img class="d-block img-fluid" src="/img/test03.jpg" style="width: 100%;" alt="Third slide">
                     </div>
                  </div>
                  <a class="carousel-control-prev" href="#carouselExampleIndicators" role="button" data-slide="prev">
                     <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                     <span class="sr-only">Previous</span>
                  </a>
                  <a class="carousel-control-next" href="#carouselExampleIndicators" role="button" data-slide="next">
                     <span class="carousel-control-next-icon" aria-hidden="true"></span>
                     <span class="sr-only">Next</span>
                  </a>
               </div>
            </div>
         </section>

         <section class="section-margin--small mb-5">
            <div class="container-cat">


               <div class="row">

                  <div class="col-xl-3 col-lg-4 col-md-5">
                     <div class="sidebar-filter mt-0">
                        <div class="top-filter-head sfmono">Product Filters</div>
                        <div class="common-filter">
                           <div class="head">Scale</div>
                           <form action="#">
                              <ul id="scalefilter"><!-- ScaleAppendhere --></ul>
                           </form>
                        </div>
                        <div class="common-filter ">
                           <div class="head">Vendor</div>
                           <form action="#">
                              <ul id="vendorfilter"><!--Vendor Appendhere--></ul>
                           </form>
                        </div>
                        <div class="mx-5 my-2"></div>
                        <p>Vendor: <%= Ven  %></p>
                        <p>Scale : <%= Sc  %> </p>
                        <p>Found <%= rowNum  %> products</p>
                     </div>

                  </div>


                  <div class="col-xl-9 col-lg-8 col-md-7">
                     <div class="filter-bar d-flex flex-wrap align-items-center">
                        <div class="sorting">
                           <select>
                              <option value="1">Default sorting</option>
                              <option value="1">Default sorting</option>
                              <option value="1">Default sorting</option>
                           </select>
                        </div>
                        <div class="sorting mr-auto">

                        </div>
                        <div>
                           <div class="input-group filter-bar-search">
                              <input type="text" placeholder="Search">
                              <div class="input-group-append">
                                 <button type="button"><i class="fas fa-search fa-sm"
                                       style="color: #999999;"></i></button>
                              </div>
                           </div>
                        </div>
                     </div>

                     <div class="row">
                        <% for(var i=0; i < result.length; i++) { %>
                        <div class="col-md-6 col-lg-4" id='<%= result[i].productName %>'>
                           <div class="text-center card-product">
                              <div class="card-product__img">
                                 <a href="#"><img class="card-img" src="/img/<%=result[i].imgSrc%>" alt=""></a>
                              </div>
                              <div class="card-body">
                                 <p>Scale <%= result[i].productScale %></p>
                                 <h4 class="card-product__title sfmono"><%= result[i].productName %></h4>
                                 <p class="card-product__price" style="color: #f33e3e;">$<%= result[i].buyPrice %> </p>
                                 
                                 <p>Vendor: <%= result[i].productVendor %></p>
                              </div>
                           </div>
                        </div>
                        <% } %>
                     </div>
                  </div>
               </div>
            </div>
         </section>

      </div>
   </div>


   <script src="/jquery/jquery.min.js"></script>
   <script src="/js/bootstrap.bundle.min.js"></script>
   <script src="/fontawesome/js/all.js"></script>
   <script src="/js/main.js"></script>
   <script src="/jquery/jquery.nice-select.min.js"></script>
   <script src="/js/skrollr.min.js"></script>

   <script>
      $("#menu-toggle").click(function (e) {
         e.preventDefault();
         $("#wrapper").toggleClass("toggled");
      });
   </script>

   <script type="text/javascript">
      $(document).ready(() => {
         $.ajax({
            url: '/catalog/scaleFilter',
            type: 'GET',
            dataType: 'json',
            success: (data) => {
               var i = 1
               $.each(data, function (index, obj) {
                  $("#scalefilter").append('<li class="filter-list"><input class="pixel-radio" type="radio" name="scale" id="scale'+i+'" value="'+obj.productScale+'"><label>' + obj.productScale+ '</label></li>');
                  i++;
               });
            },
         });
         $.ajax({   
            url: '/catalog/vendorFilter',
            type: 'GET',
            dataType: 'json',
            success: (data) => {
               $.each(data, function (index, obj) {
                  $("#vendorfilter").append('<li class="filter-list"><input class="pixel-radio" type="radio" name="vendor"><label>'+ obj.productVendor +'</label></li>');
               });
            },
         });
      });
      $(document).ajaxError(() => {
         $('#demo').html('Error: unknown ajaxError!');
      });
   </script>

   <script>
      $(document).ready(function(){
         console.log($('#scale1').val());
         
         
         
      })
   </script>

</body>

</html>